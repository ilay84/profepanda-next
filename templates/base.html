<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ProfePanda{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='assets/favicon.png') }}">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    {% include "_header.html" %}

    {# Optional admin-only top bar slot #}
    {% block admin_nav %}{% endblock %}

    <main>
        {% block content %}{% endblock %}
    </main>

    {% block scripts %}{% endblock %}

    {% include "_exercise_modal.html" %}

    <!-- ✅ Ensure the public carousel is always available -->
    <script defer src="{{ url_for('static', filename='js/public/carousel.bundle.js') }}"></script>

    <!-- Your existing app scripts -->
    <script src="{{ url_for('static', filename='js/ex_types/single_choice.js') }}"></script>
    <script src="{{ url_for('static', filename='js/exercises.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ex_types/true_false.js') }}"></script>

    <!-- Exercise Modal (legacy) -->
    <div id="exerciseModal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width:900px;margin:auto;">
        <span class="close" onclick="document.getElementById('exerciseModal').style.display='none'">&times;</span>
        <div id="exerciseRoot"></div>
      </div>
    </div>

    <footer style="text-align:center;margin-top:2rem;padding:.75rem 0;font-size:.85rem;color:#777;border-top:1px solid #eee;">
      {% if lang == 'es' %}
        Idioma actual: <strong>Español</strong>
      {% else %}
        Current language: <strong>English</strong>
      {% endif %}
    </footer>
</body>
</html>